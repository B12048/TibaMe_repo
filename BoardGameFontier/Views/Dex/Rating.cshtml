@model DexViewModel
@section Styles{
    <link rel="stylesheet" href="~/css/community.css" asp-append-version="true" />
    <style>
        .TheBase {
            margin-top: 10px;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(8px);
            border: rgba(20, 184, 166, 0.2) solid 2px;
            padding: 10px;
        }

        .card-header{
            background: linear-gradient(to right, #14B8A6,#5eead4 );
            color:white;
        }

        .comment-section{
        }

        .rating{
            color: #14B8A6;
            font-weight: bolder;
            font-size: 3vw;
            text-shadow: -2px 0 #fff, 0 2px #fff, 2px 0 #fff, 0 -2px #fff;
        }

        .RatingBackground {
            position: relative;
            padding-top: 10px;
            aspect-ratio: 1 / 1;
            background: linear-gradient(to right, #14B8A6,#5eead4 );
            perspective: 500px;
        }

        .star {
            transition: 1s;
            z-index: 1;
            background-color: white;
            aspect-ratio: 1 / 1;
            clip-path: polygon( 50% 2.4%, 34.5% 33.8%, 0% 38.8%, 25% 63.1%, 19.1% 97.6%, 50% 81.3%, 80.9% 97.6%, 75% 63.1%, 100% 38.8%, 65.5% 33.8% );
        }

        .RatingBackground:hover .star {
            transform: rotateY(360deg);
        }

        .RaingNum {
            color: #14B8A6;
            font-weight: bolder;
            font-size: 3vw;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
            text-shadow: -2px 0 #fff, 0 2px #fff, 2px 0 #fff, 0 -2px #fff;
        }

        .Gameinfo{
            margin:5px;
            text-decoration:none;
            border: rgba(20, 184, 166, 0.2) solid 2px;
            border-radius:30px;
            overflow: hidden;
        }

        .GameCover{
            height:6vh;
        }

        .GameDesc{
            margin-left:2vw;
        }

        .comment{
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: var(--glass-blur);
            -webkit-backdrop-filter: var(--glass-blur);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 16px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--glass-shadow);
            min-height: 60px;
            flex-wrap: nowrap;
        }
    </style>
}

<div class="TheBase container-fluid p-5">
    <div class="row align-items-center ">
        <div class="col-2 RatingBackground">
            <h3 class="RaingNum">8.6</h3>
            <div class="star"></div>
        </div>
    </div>
    <a class="Gameinfo d-flex align-items-center" asp-area="" asp-controller="Dex" asp-action="Detail" asp-route-id="@Model.GameDetails.Id">
        <img class="GameCover" src="@Model.GameDetails.Cover" />
        <div class="GameDesc">
            <h5>@Model.GameDetails.zhtTitle @Model.GameDetails.engTitle</h5>
            <span>@Model.GameDetails.Intro</span>
        </div>
    </a>

    <!---評論區--->
    <div class="row">
        <div class="comment">
            <div class="category-tabs">
                <button class="category-tab active" data-type="all">全部評論</button>
                <button class="category-tab" data-type="review">綜合心得</button>
                <button class="category-tab" data-type="question">推薦</button>
                <button class="category-tab" data-type="trade">不推薦</button>
            </div>
            <div class="action-area">
                <div class="search-container" id="vueSearchCard">
                    <input type="text"
                           class="search-input"
                           v-model="searchText"
                           @@input="onSearchInput"
                           placeholder="請輸入關鍵字">
                    <button class="search-btn" @@click="performSearch()">搜尋</button>
                </div>
                    <a href="/Login/IndexLogin" class="create-post-btn">
                        發表評論
                    </a>
            </div>
        </div>
        <div class="mt-3">
            <!---評論內容區--->
            @foreach (var item in Model.Ratings)
            {
            <div class="row">
                <div class="comment-section col">
                    <div class="card border-dark mb-3">
                        <div class="card-header">#台北艾瑞克</div>
                        <div class="card-body row">
                            <div class="col-1 text-center rating">8</div>
                            <div class="col">
                                <h4 class="card-title text-black fw-bold"> @item.Title</h4>
                                <p class="card-text">@item.Comments</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            }
        </div>
    </div>
</div>